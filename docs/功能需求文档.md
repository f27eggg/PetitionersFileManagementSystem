# 功能需求文档

## 文档版本

- 版本号：v1.0
- 创建日期：2025年11月
- 最后更新：2025年11月

---

## 一、项目背景

上访人员重点监控信息管理系统旨在为管理人员提供一个高效、美观、易用的桌面应用工具，用于管理上访人员的档案信息。系统需要突出科技感和专业性，同时保持极强的可移植性，无需复杂的环境配置即可在任意Windows电脑上运行。

---

## 二、核心功能模块

### 2.1 信息展示功能

#### 2.1.1 列表展示
**功能描述**：以表格形式展示所有上访人员的核心信息

**展示字段（建议）**：
- 姓名
- 身份证号（脱敏显示，如：110101********1234）
- 性别
- 年龄（根据身份证号计算）
- 联系方式
- 赴京上访次数
- 危险等级
- 最后更新时间
- 操作按钮（查看详情/编辑/删除）

**交互要求**：
- 支持表格列排序（点击列头排序）
- 支持表格行选择（单击高亮，双击进入详情）
- 分页显示（每页20/50/100条可配置）
- 危险等级用颜色标识（绿色-低危、黄色-中危、橙色-高危、红色-极高危）

#### 2.1.2 详情展示
**功能描述**：以多标签页形式展示单个上访人员的完整档案信息

**标签页划分**：
1. **个人信息**标签页
   - 基本信息区：姓名、身份证号、性别、籍贯、学历等
   - 联系方式区：3个联系方式
   - 职业与住址区：职业、工作地址、常住地址
   - 上访记录区：赴京上访次数、反侦察手段等

2. **在京关系人**标签页
   - 关系人信息卡片展示
   - 支持多个关系人（未来扩展）

3. **信访案件**标签页
   - 诉求描述
   - 解决情况
   - 进京方式与轨迹

4. **评估结果**标签页
   - 统计分值（大号字体突出显示）
   - 危险等级（彩色标签）
   - 评估雷达图（未来扩展）

**交互要求**：
- 标签页切换流畅，有动画过渡
- 字段为空时显示"暂无数据"
- 提供"编辑"和"返回列表"按钮

---

### 2.2 信息查询功能

#### 2.2.1 快速搜索
**功能描述**：在主界面顶部提供搜索框，实时搜索

**搜索范围**：
- 姓名（模糊匹配）
- 身份证号（模糊匹配）
- 联系方式（精确匹配）

**交互要求**：
- 输入即时过滤，延迟300ms执行搜索
- 搜索结果高亮显示匹配关键词
- 显示匹配结果数量

#### 2.2.2 高级查询
**功能描述**：提供多条件组合查询功能

**查询条件**：
1. **基本条件**
   - 姓名（模糊）
   - 身份证号（模糊）
   - 性别（下拉选择）
   - 学历（下拉选择）
   - 婚姻状态（下拉选择）

2. **风险条件**
   - 危险等级（多选）
   - 赴京上访次数范围（从X次到Y次）
   - 统计分值范围
   - 是否懂技侦手段（是/否/全部）

3. **其他条件**
   - 籍贯（模糊）
   - 进京方式（下拉选择）
   - 创建时间范围
   - 更新时间范围

**交互要求**：
- 所有条件为"且"关系
- 提供"重置"按钮清空所有条件
- 显示查询结果数量和耗时
- 支持导出查询结果

---

### 2.3 信息录入功能

#### 2.3.1 新增人员
**功能描述**：通过表单录入新的上访人员档案

**表单布局**：
- 采用分步向导或分组表单
- 第一组：个人基本信息（必填项）
- 第二组：联系方式与地址
- 第三组：在京关系人
- 第四组：信访案件信息
- 第五组：评估结果

**字段验证**：
- 姓名：非空，2-20个字符
- 身份证号：18位，符合校验规则，检查是否重复
- 联系方式1：非空，11位手机号或固话格式
- 赴京上访次数：非负整数
- 统计分值：非负整数

**交互要求**：
- 必填项标红星标识
- 实时验证，错误提示在字段下方显示
- 提供"保存"、"保存并继续添加"、"取消"按钮
- 保存成功后给予提示并自动跳转到详情页

#### 2.3.2 批量导入
**功能描述**：支持从Excel/CSV文件批量导入数据

**导入流程**：
1. 选择文件（仅支持.xlsx/.csv格式）
2. 数据预览与验证
3. 错误提示（重复身份证号、格式错误等）
4. 确认导入
5. 导入结果报告（成功X条，失败Y条）

**交互要求**：
- 提供Excel模板下载
- 导入前备份现有数据
- 导入失败记录可导出为Excel查看原因

---

### 2.4 信息修改功能

#### 2.4.1 编辑人员信息
**功能描述**：修改已有上访人员的档案信息

**功能要求**：
- 进入编辑模式的方式：
  1. 列表页点击"编辑"按钮
  2. 详情页点击"编辑"按钮
- 编辑表单与新增表单布局一致
- 身份证号不可修改（作为唯一标识）
- 显示最后修改时间和修改人（未来扩展）

**交互要求**：
- 修改前二次确认
- 提供"保存"、"取消"按钮
- 取消时询问是否放弃修改

#### 2.4.2 删除人员信息
**功能描述**：删除指定上访人员档案

**功能要求**：
- 单条删除：列表页或详情页点击"删除"
- 批量删除：列表页勾选多条记录后批量删除

**交互要求**：
- 删除前二次确认，显示将要删除的人员姓名
- 删除操作不可逆，给予明确警告
- 删除成功后给予提示并刷新列表

---

### 2.5 统计可视化功能

#### 2.5.1 仪表盘概览
**功能描述**：以可视化图表形式展示数据统计信息

**统计维度**：

1. **基础统计卡片**
   - 总人数
   - 本月新增人数
   - 高危人员数量
   - 平均上访次数

2. **危险等级分布**（饼图）
   - 低危、中危、高危、极高危各等级人数占比
   - 点击饼图扇区可跳转到对应人员列表

3. **上访次数分布**（柱状图）
   - 横轴：上访次数区间（1次、2-3次、4-5次、6-10次、10次以上）
   - 纵轴：人数

4. **籍贯地区分布**（柱状图或地图热力图）
   - 横轴：各省份/地区
   - 纵轴：人数

5. **进京方式统计**（饼图）
   - 各种进京方式的人数占比

6. **反侦察手段统计**（词云图，未来扩展）
   - 从"具体反侦察手段"字段提取关键词

**交互要求**：
- 图表可交互（悬停显示详细数据）
- 支持图表导出为图片
- 提供时间范围筛选器

---

### 2.6 数据导入导出功能

#### 2.6.1 数据导出
**功能描述**：将数据导出为Excel或CSV格式

**导出方式**：
- 导出全部数据
- 导出当前查询结果
- 导出选中的记录

**导出格式**：
- Excel (.xlsx) - 包含格式和样式
- CSV (.csv) - 纯文本，兼容性好

**交互要求**：
- 导出前选择保存路径和文件名
- 导出进度条显示
- 导出成功后询问是否打开文件

#### 2.6.2 数据导入
（见2.3.2批量导入）

---

## 三、辅助功能

### 3.1 系统设置
- 界面主题选择（深色/浅色，当前版本仅深色）
- 分页条数设置
- 数据存储路径设置
- 关于本系统

### 3.2 数据备份与恢复
- 手动备份：将data目录下的JSON文件打包备份
- 自动备份：每周自动备份（可配置）
- 数据恢复：从备份文件恢复数据

---

## 四、非功能性需求

### 4.1 性能要求
- 启动时间：≤ 3秒
- 列表加载：100条数据 ≤ 500ms
- 搜索响应：≤ 300ms
- 界面切换：≤ 200ms

### 4.2 易用性要求
- 操作步骤不超过3步
- 所有功能提供工具提示
- 错误提示清晰明确
- 符合Windows桌面应用操作习惯

### 4.3 可靠性要求
- 数据自动保存
- 异常情况下不丢失数据
- 提供数据备份机制

### 4.4 可移植性要求
- 单一exe文件或包含JRE的免安装包
- 无需安装额外运行环境
- 数据文件相对路径存储

---

## 五、功能优先级

### P0（必须实现）
- 信息展示（列表+详情）
- 信息查询（快速搜索）
- 信息录入（新增）
- 信息修改（编辑+删除）

### P1（重要功能）
- 统计可视化（仪表盘）
- 高级查询
- 数据导出

### P2（增强功能）
- 批量导入
- 数据备份恢复
- 系统设置

---

## 六、未来扩展功能（Roadmap）

1. 用户权限管理（管理员/普通用户）
2. 操作日志记录
3. 数据变更历史追踪
4. 移动端App配套
5. 多人协同编辑
6. AI辅助风险评估

---

*文档版本：v1.0*
*创建日期：2025年11月*
