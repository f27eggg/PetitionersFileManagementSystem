# é¡¹ç›®ç›®å½•ç»“æ„è§„åˆ’

## æ–‡æ¡£ç‰ˆæœ¬

- ç‰ˆæœ¬å·ï¼šv1.0
- åˆ›å»ºæ—¥æœŸï¼š2025å¹´11æœˆ
- æœ€åæ›´æ–°ï¼š2025å¹´11æœˆ

---

## ä¸€ã€å®Œæ•´ç›®å½•ç»“æ„

```
PetitionersFileManagementSystem/
â”‚
â”œâ”€â”€ .git/                           # Gitç‰ˆæœ¬æ§åˆ¶ç›®å½•
â”œâ”€â”€ .gitignore                      # Gitå¿½ç•¥é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ README.md                       # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ TODO.md                         # å¼€å‘ä»»åŠ¡æ¸…å•
â”œâ”€â”€ context.txt                     # é¡¹ç›®èƒŒæ™¯è¯´æ˜
â”œâ”€â”€ pom.xml                         # Mavené¡¹ç›®é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ docs/                           # ğŸ“ è®¾è®¡æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ æ•°æ®ç»“æ„è®¾è®¡.md
â”‚   â”œâ”€â”€ åŠŸèƒ½éœ€æ±‚æ–‡æ¡£.md
â”‚   â”œâ”€â”€ æŠ€æœ¯é€‰å‹æ–¹æ¡ˆ.md
â”‚   â”œâ”€â”€ UIè®¾è®¡æ–¹æ¡ˆ.md
â”‚   â”œâ”€â”€ é¡¹ç›®ç›®å½•ç»“æ„è§„åˆ’.md
â”‚   â”œâ”€â”€ å¼€å‘è§„èŒƒ.md                  # ç¼–ç è§„èŒƒï¼ˆå¾…è¡¥å……ï¼‰
â”‚   â”œâ”€â”€ æ•°æ®åº“è®¾è®¡.md                # æœªæ¥æ‰©å±•
â”‚   â””â”€â”€ APIæ–‡æ¡£.md                  # æœªæ¥æ‰©å±•
â”‚
â”œâ”€â”€ assets/                         # ğŸ“ èµ„æºç´ æç›®å½•
â”‚   â”œâ”€â”€ icons/                      # å›¾æ ‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ è­¦å¾½.png                # ä¸­åäººæ°‘å…±å’Œå›½è­¦å¾½ï¼ˆ64x64, 128x128ï¼‰
â”‚   â”‚   â”œâ”€â”€ app-icon.ico            # åº”ç”¨ä¸»å›¾æ ‡ï¼ˆåŸºäºè­¦å¾½ï¼‰
â”‚   â”‚   â”œâ”€â”€ app-icon.png            # PNGæ ¼å¼å›¾æ ‡
â”‚   â”‚   â””â”€â”€ menu/                   # èœå•å›¾æ ‡
â”‚   â”‚       â”œâ”€â”€ dashboard.svg
â”‚   â”‚       â”œâ”€â”€ user.svg
â”‚   â”‚       â”œâ”€â”€ search.svg
â”‚   â”‚       â”œâ”€â”€ chart.svg
â”‚   â”‚       â”œâ”€â”€ import.svg
â”‚   â”‚       â””â”€â”€ settings.svg
â”‚   â”œâ”€â”€ images/                     # å›¾ç‰‡èµ„æº
â”‚   â”‚   â”œâ”€â”€ logo.png                # ç³»ç»ŸLogoï¼ˆè­¦å¾½+å•ä½åç§°ï¼‰
â”‚   â”‚   â”œâ”€â”€ splash.png              # å¯åŠ¨ç”»é¢
â”‚   â”‚   â””â”€â”€ empty-state.png         # ç©ºçŠ¶æ€å ä½å›¾
â”‚   â”œâ”€â”€ maps/                       # åœ°å›¾èµ„æºï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â””â”€â”€ china-provinces.svg     # ä¸­å›½çœçº§è¡Œæ”¿åŒºåˆ’åœ°å›¾
â”‚   â””â”€â”€ fonts/                      # å­—ä½“æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚       â””â”€â”€ iconfont.ttf            # å›¾æ ‡å­—ä½“
â”‚
â”œâ”€â”€ data/                           # ğŸ“ æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ petitioners.json            # ä¸Šè®¿äººå‘˜æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.json                 # ç³»ç»Ÿé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ photos/                     # ç…§ç‰‡å­˜å‚¨ç›®å½•ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ petitioners/            # ä¸Šè®¿äººå‘˜ç…§ç‰‡
â”‚   â”‚   â”‚   â””â”€â”€ {èº«ä»½è¯å·}/         # æŒ‰èº«ä»½è¯å·åˆ†ç»„
â”‚   â”‚   â”‚       â”œâ”€â”€ photo1.jpg
â”‚   â”‚   â”‚       â””â”€â”€ photo2.jpg
â”‚   â”‚   â””â”€â”€ contacts/               # å…³ç³»äººç…§ç‰‡
â”‚   â”‚       â””â”€â”€ {èº«ä»½è¯å·}/
â”‚   â”‚           â””â”€â”€ photo1.jpg
â”‚   â”œâ”€â”€ template/                   # æ¨¡æ¿æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ import-template.xlsx   # Excelå¯¼å…¥æ¨¡æ¿
â”‚   â””â”€â”€ backups/                    # æ•°æ®å¤‡ä»½ç›®å½•
â”‚       â””â”€â”€ .gitkeep                # å ä½æ–‡ä»¶
â”‚
â”œâ”€â”€ src/                            # ğŸ“ æºä»£ç æ ¹ç›®å½•
â”‚   â”œâ”€â”€ main/                       # ä¸»ä»£ç ç›®å½•
â”‚   â”‚   â”œâ”€â”€ java/                   # Javaæºä»£ç 
â”‚   â”‚   â”‚   â””â”€â”€ com/
â”‚   â”‚   â”‚       â””â”€â”€ petition/       # åŒ…æ ¹ç›®å½•
â”‚   â”‚   â”‚           â”œâ”€â”€ Main.java   # åº”ç”¨å…¥å£ç±»
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ model/      # ğŸ“¦ æ•°æ®æ¨¡å‹å±‚
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ Petitioner.java           # ä¸Šè®¿äººä¸»å®ä½“
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ PersonalInfo.java         # ä¸ªäººä¿¡æ¯
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ BeijingContact.java       # åœ¨äº¬å…³ç³»äºº
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ PetitionCase.java         # ä¿¡è®¿æ¡ˆä»¶
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ RiskAssessment.java       # è¯„ä¼°ç»“æœ
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ enums/                    # æšä¸¾ç±»
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ Gender.java           # æ€§åˆ«æšä¸¾
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ Education.java        # å­¦å†æšä¸¾
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ MaritalStatus.java    # å©šå§»çŠ¶æ€
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ RiskLevel.java        # å±é™©ç­‰çº§
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ EntryMethod.java      # è¿›äº¬æ–¹å¼
â”‚   â”‚   â”‚           â”‚       â””â”€â”€ TransportMethod.java  # é€šè¡Œæ–¹å¼
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ dao/        # ğŸ“¦ æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ JsonDataManager.java      # JSONæ•°æ®ç®¡ç†å™¨
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ BackupManager.java        # å¤‡ä»½ç®¡ç†å™¨
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ ConfigManager.java        # é…ç½®ç®¡ç†å™¨
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ service/    # ğŸ“¦ ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ PetitionerService.java    # äººå‘˜ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ QueryService.java         # æŸ¥è¯¢æœåŠ¡
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ExportService.java        # å¯¼å‡ºæœåŠ¡
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ImportService.java        # å¯¼å…¥æœåŠ¡
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ StatisticsService.java    # ç»Ÿè®¡æœåŠ¡
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ PhotoService.java         # ç…§ç‰‡ç®¡ç†æœåŠ¡ï¼ˆæ–°å¢ï¼‰
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ ValidationService.java    # æ•°æ®éªŒè¯æœåŠ¡
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ controller/ # ğŸ“¦ æ§åˆ¶å™¨å±‚ï¼ˆUIé€»è¾‘ï¼‰
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ MainController.java       # ä¸»çª—å£æ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DashboardController.java  # ä»ªè¡¨ç›˜æ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ListController.java       # åˆ—è¡¨é¡µæ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DetailController.java     # è¯¦æƒ…é¡µæ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ FormController.java       # è¡¨å•é¡µæ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ QueryController.java      # æŸ¥è¯¢é¡µæ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ChartController.java      # ç»Ÿè®¡å›¾è¡¨æ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ SettingsController.java   # è®¾ç½®é¡µæ§åˆ¶å™¨
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ view/       # ğŸ“¦ è§†å›¾ç›¸å…³
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ViewLoader.java           # è§†å›¾åŠ è½½å™¨
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ components/               # è‡ªå®šä¹‰ç»„ä»¶
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ RiskBadge.java        # å±é™©ç­‰çº§æ ‡ç­¾ç»„ä»¶
â”‚   â”‚   â”‚           â”‚       â”œâ”€â”€ SearchBox.java        # æœç´¢æ¡†ç»„ä»¶
â”‚   â”‚   â”‚           â”‚       â””â”€â”€ DataCard.java         # æ•°æ®å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ util/       # ğŸ“¦ å·¥å…·ç±»
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ DateUtil.java             # æ—¥æœŸå·¥å…·
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ StringUtil.java           # å­—ç¬¦ä¸²å·¥å…·
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ ValidationUtil.java       # éªŒè¯å·¥å…·
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ IdCardUtil.java           # èº«ä»½è¯å·¥å…·
â”‚   â”‚   â”‚           â”‚   â”œâ”€â”€ FileUtil.java             # æ–‡ä»¶å·¥å…·
â”‚   â”‚   â”‚           â”‚   â””â”€â”€ AlertUtil.java            # æç¤ºæ¡†å·¥å…·
â”‚   â”‚   â”‚           â”‚
â”‚   â”‚   â”‚           â””â”€â”€ exception/  # ğŸ“¦ è‡ªå®šä¹‰å¼‚å¸¸
â”‚   â”‚   â”‚               â”œâ”€â”€ DataException.java        # æ•°æ®å¼‚å¸¸
â”‚   â”‚   â”‚               â”œâ”€â”€ ValidationException.java  # éªŒè¯å¼‚å¸¸
â”‚   â”‚   â”‚               â””â”€â”€ ImportException.java      # å¯¼å…¥å¼‚å¸¸
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ resources/              # èµ„æºæ–‡ä»¶ç›®å½•
â”‚   â”‚       â”œâ”€â”€ application.properties  # åº”ç”¨é…ç½®
â”‚   â”‚       â”œâ”€â”€ log4j2.xml             # æ—¥å¿—é…ç½®
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ fxml/                   # FXMLç•Œé¢æ–‡ä»¶
â”‚   â”‚       â”‚   â”œâ”€â”€ main.fxml           # ä¸»çª—å£
â”‚   â”‚       â”‚   â”œâ”€â”€ dashboard.fxml      # ä»ªè¡¨ç›˜é¡µé¢
â”‚   â”‚       â”‚   â”œâ”€â”€ list.fxml           # åˆ—è¡¨é¡µé¢
â”‚   â”‚       â”‚   â”œâ”€â”€ detail.fxml         # è¯¦æƒ…é¡µé¢
â”‚   â”‚       â”‚   â”œâ”€â”€ form.fxml           # è¡¨å•é¡µé¢
â”‚   â”‚       â”‚   â”œâ”€â”€ query.fxml          # æŸ¥è¯¢é¡µé¢
â”‚   â”‚       â”‚   â”œâ”€â”€ chart.fxml          # ç»Ÿè®¡é¡µé¢
â”‚   â”‚       â”‚   â””â”€â”€ settings.fxml       # è®¾ç½®é¡µé¢
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ css/                    # æ ·å¼è¡¨æ–‡ä»¶
â”‚   â”‚           â”œâ”€â”€ main.css            # ä¸»æ ·å¼è¡¨
â”‚   â”‚           â”œâ”€â”€ dark-theme.css      # æ·±è‰²ä¸»é¢˜
â”‚   â”‚           â”œâ”€â”€ components.css      # ç»„ä»¶æ ·å¼
â”‚   â”‚           â””â”€â”€ animations.css      # åŠ¨ç”»æ ·å¼
â”‚   â”‚
â”‚   â””â”€â”€ test/                           # æµ‹è¯•ä»£ç ç›®å½•
â”‚       â””â”€â”€ java/
â”‚           â””â”€â”€ com/
â”‚               â””â”€â”€ petition/
â”‚                   â”œâ”€â”€ service/        # æœåŠ¡å±‚æµ‹è¯•
â”‚                   â”‚   â”œâ”€â”€ PetitionerServiceTest.java
â”‚                   â”‚   â””â”€â”€ ValidationServiceTest.java
â”‚                   â””â”€â”€ util/           # å·¥å…·ç±»æµ‹è¯•
â”‚                       â”œâ”€â”€ ValidationUtilTest.java
â”‚                       â””â”€â”€ IdCardUtilTest.java
â”‚
â”œâ”€â”€ target/                             # Mavenç¼–è¯‘è¾“å‡ºç›®å½•ï¼ˆ.gitignoreï¼‰
â”‚   â”œâ”€â”€ classes/                        # ç¼–è¯‘åçš„.classæ–‡ä»¶
â”‚   â”œâ”€â”€ PetitionersSystem.jar           # æ‰“åŒ…çš„JARæ–‡ä»¶
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ dist/                               # åˆ†å‘ç›®å½•ï¼ˆæ‰“åŒ…è¾“å‡ºï¼‰
â”‚   â”œâ”€â”€ PetitionersSystem-1.0-setup.exe # Windowså®‰è£…ç¨‹åº
â”‚   â””â”€â”€ PetitionersSystem-1.0/          # å…å®‰è£…ç‰ˆ
â”‚       â”œâ”€â”€ PetitionersSystem.exe
â”‚       â”œâ”€â”€ app/
â”‚       â”œâ”€â”€ runtime/                    # å†…åµŒJRE
â”‚       â””â”€â”€ data/
â”‚
â””â”€â”€ scripts/                            # è„šæœ¬ç›®å½•
    â”œâ”€â”€ build.bat                       # Windowsæ„å»ºè„šæœ¬
    â”œâ”€â”€ package.bat                     # æ‰“åŒ…è„šæœ¬
    â””â”€â”€ clean.bat                       # æ¸…ç†è„šæœ¬
```

---

## äºŒã€æ ¸å¿ƒç›®å½•è¯´æ˜

### 2.1 æºä»£ç ç›®å½•ï¼ˆsrc/main/javaï¼‰

#### modelåŒ… - æ•°æ®æ¨¡å‹å±‚
**èŒè´£**ï¼šå®šä¹‰æ•°æ®å®ä½“å’Œæšä¸¾ç±»å‹

```java
// ç¤ºä¾‹ï¼šPetitioner.java
public class Petitioner {
    private String id;                      // UUID
    private LocalDateTime createTime;       // åˆ›å»ºæ—¶é—´
    private LocalDateTime updateTime;       // æ›´æ–°æ—¶é—´
    private PersonalInfo personalInfo;      // ä¸ªäººä¿¡æ¯
    private BeijingContact beijingContact;  // åœ¨äº¬å…³ç³»äºº
    private PetitionCase petitionCase;      // ä¿¡è®¿æ¡ˆä»¶
    private RiskAssessment riskAssessment;  // è¯„ä¼°ç»“æœ

    // getters, setters, constructors...
}
```

#### daoåŒ… - æ•°æ®è®¿é—®å±‚
**èŒè´£**ï¼šå¤„ç†æ•°æ®çš„æŒä¹…åŒ–å’Œè¯»å–

```java
// ç¤ºä¾‹ï¼šJsonDataManager.java
public class JsonDataManager {
    public List<Petitioner> loadAll();
    public void saveAll(List<Petitioner> petitioners);
    public Petitioner findById(String id);
    public void save(Petitioner petitioner);
    public void delete(String id);
}
```

#### serviceåŒ… - ä¸šåŠ¡é€»è¾‘å±‚
**èŒè´£**ï¼šå®ç°ä¸šåŠ¡åŠŸèƒ½ï¼Œè°ƒç”¨DAOå±‚

```java
// ç¤ºä¾‹ï¼šPetitionerService.java
public class PetitionerService {
    public List<Petitioner> getAllPetitioners();
    public Petitioner getPetitionerById(String id);
    public void addPetitioner(Petitioner petitioner);
    public void updatePetitioner(Petitioner petitioner);
    public void deletePetitioner(String id);
}
```

#### controlleråŒ… - æ§åˆ¶å™¨å±‚
**èŒè´£**ï¼šè¿æ¥UIå’Œä¸šåŠ¡é€»è¾‘ï¼Œå¤„ç†ç”¨æˆ·äº¤äº’

```java
// ç¤ºä¾‹ï¼šListController.java
public class ListController implements Initializable {
    @FXML private TableView<Petitioner> tableView;
    @FXML private TextField searchField;

    private PetitionerService petitionerService;

    @FXML
    private void handleSearch() { ... }

    @FXML
    private void handleAdd() { ... }
}
```

---

### 2.2 èµ„æºç›®å½•ï¼ˆsrc/main/resourcesï¼‰

#### fxml/ - FXMLç•Œé¢æ–‡ä»¶
ä½¿ç”¨Scene Builderè®¾è®¡çš„ç•Œé¢å¸ƒå±€æ–‡ä»¶

```xml
<!-- ç¤ºä¾‹ï¼šlist.fxml -->
<?xml version="1.0" encoding="UTF-8"?>
<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.petition.controller.ListController">
    <top>
        <HBox>
            <TextField fx:id="searchField" promptText="æœç´¢..." />
            <Button text="æ–°å¢" onAction="#handleAdd" />
        </HBox>
    </top>
    <center>
        <TableView fx:id="tableView">
            <!-- åˆ—å®šä¹‰... -->
        </TableView>
    </center>
</BorderPane>
```

#### css/ - æ ·å¼è¡¨æ–‡ä»¶
å®šä¹‰ç•Œé¢å¤–è§‚å’Œä¸»é¢˜

```css
/* ç¤ºä¾‹ï¼šdark-theme.css */
.root {
    -fx-base: #0D1117;
    -fx-background: #0D1117;
    -fx-control-inner-background: #161B22;
}

.button-primary {
    -fx-background-color: linear-gradient(#58A6FF, #1F6FEB);
    -fx-text-fill: white;
}
```

---

## ä¸‰ã€æ•°æ®ç›®å½•è¯´æ˜ï¼ˆdata/ï¼‰

### 3.1 petitioners.json - ä¸»æ•°æ®æ–‡ä»¶

```json
{
  "version": "1.0",
  "lastUpdate": "2025-11-22T10:30:00",
  "data": [
    {
      "id": "uuid-xxxx-xxxx",
      "createTime": "2025-11-22T10:30:00",
      "updateTime": "2025-11-22T10:30:00",
      "personalInfo": { ... },
      "beijingContact": { ... },
      "petitionCase": { ... },
      "riskAssessment": { ... }
    }
  ]
}
```

### 3.2 config.json - ç³»ç»Ÿé…ç½®æ–‡ä»¶

```json
{
  "ui": {
    "theme": "dark",
    "pageSize": 20,
    "language": "zh_CN"
  },
  "data": {
    "autoBackup": true,
    "backupInterval": 7,
    "maxBackups": 10
  },
  "export": {
    "defaultFormat": "xlsx",
    "defaultPath": "C:/Users/xxx/Desktop"
  }
}
```

---

## å››ã€æ„å»ºä¸æ‰“åŒ…

### 4.1 Mavené…ç½®ï¼ˆpom.xmlï¼‰

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0
         http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.petition</groupId>
    <artifactId>petitioners-system</artifactId>
    <version>1.0.0</version>
    <packaging>jar</packaging>

    <properties>
        <maven.compiler.source>17</maven.compiler.source>
        <maven.compiler.target>17</maven.compiler.target>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <javafx.version>17.0.2</javafx.version>
        <jackson.version>2.16.0</jackson.version>
    </properties>

    <dependencies>
        <!-- JavaFX -->
        <dependency>
            <groupId>org.openjfx</groupId>
            <artifactId>javafx-controls</artifactId>
            <version>${javafx.version}</version>
        </dependency>
        <dependency>
            <groupId>org.openjfx</groupId>
            <artifactId>javafx-fxml</artifactId>
            <version>${javafx.version}</version>
        </dependency>

        <!-- Jackson JSON -->
        <dependency>
            <groupId>com.fasterxml.jackson.core</groupId>
            <artifactId>jackson-databind</artifactId>
            <version>${jackson.version}</version>
        </dependency>
        <dependency>
            <groupId>com.fasterxml.jackson.datatype</groupId>
            <artifactId>jackson-datatype-jsr310</artifactId>
            <version>${jackson.version}</version>
        </dependency>

        <!-- Apache POI (Excel) -->
        <dependency>
            <groupId>org.apache.poi</groupId>
            <artifactId>poi-ooxml</artifactId>
            <version>5.2.5</version>
        </dependency>

        <!-- Logback -->
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
            <version>1.4.14</version>
        </dependency>

        <!-- JUnit (æµ‹è¯•) -->
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter</artifactId>
            <version>5.10.1</version>
            <scope>test</scope>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <!-- JavaFX Maven Plugin -->
            <plugin>
                <groupId>org.openjfx</groupId>
                <artifactId>javafx-maven-plugin</artifactId>
                <version>0.0.8</version>
                <configuration>
                    <mainClass>com.petition.Main</mainClass>
                </configuration>
            </plugin>

            <!-- Maven Shade Plugin (æ‰“åŒ…ä¸ºå¯æ‰§è¡ŒJAR) -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-shade-plugin</artifactId>
                <version>3.5.1</version>
                <executions>
                    <execution>
                        <phase>package</phase>
                        <goals>
                            <goal>shade</goal>
                        </goals>
                        <configuration>
                            <transformers>
                                <transformer implementation="org.apache.maven.plugins.shade.resource.ManifestResourceTransformer">
                                    <mainClass>com.petition.Main</mainClass>
                                </transformer>
                            </transformers>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
</project>
```

### 4.2 æ‰“åŒ…è„šæœ¬ï¼ˆscripts/package.batï¼‰

```batch
@echo off
echo ========================================
echo  ä¸Šè®¿äººå‘˜ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ - æ‰“åŒ…è„šæœ¬
echo ========================================

echo 1. æ¸…ç†æ—§çš„æ„å»º...
call mvn clean

echo 2. ç¼–è¯‘æ‰“åŒ…...
call mvn package

echo 3. ä½¿ç”¨jpackageç”Ÿæˆexe...
jpackage ^
  --input target/ ^
  --name "ä¸Šè®¿äººå‘˜ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ" ^
  --main-jar petitioners-system-1.0.0.jar ^
  --main-class com.petition.Main ^
  --type exe ^
  --win-shortcut ^
  --win-menu ^
  --icon assets/icons/app-icon.ico ^
  --app-version 1.0.0 ^
  --vendor "ç®¡ç†ç³»ç»Ÿå¼€å‘ç»„" ^
  --dest dist/

echo ========================================
echo  æ‰“åŒ…å®Œæˆï¼è¾“å‡ºç›®å½•ï¼šdist/
echo ========================================
pause
```

---

## äº”ã€ç›®å½•ä½¿ç”¨è§„èŒƒ

### 5.1 å‘½åè§„èŒƒ

| ç±»å‹ | è§„èŒƒ | ç¤ºä¾‹ |
|------|------|------|
| **åŒ…å** | å°å†™å­—æ¯ï¼Œå¤šä¸ªå•è¯ç”¨ç‚¹åˆ†éš” | com.petition.service |
| **ç±»å** | å¤§é©¼å³°å‘½åæ³•ï¼ˆPascalCaseï¼‰ | PetitionerService |
| **æ–¹æ³•å** | å°é©¼å³°å‘½åæ³•ï¼ˆcamelCaseï¼‰ | getPetitionerById |
| **å¸¸é‡** | å…¨å¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš” | MAX_PAGE_SIZE |
| **æ–‡ä»¶å** | ä¸ç±»åä¸€è‡´ | PetitionerService.java |
| **FXMLæ–‡ä»¶** | å°å†™ï¼Œè¿å­—ç¬¦åˆ†éš” | list-view.fxml |
| **CSSæ–‡ä»¶** | å°å†™ï¼Œè¿å­—ç¬¦åˆ†éš” | dark-theme.css |

### 5.2 æ–‡ä»¶ç»„ç»‡åŸåˆ™

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
2. **åˆ†å±‚æ¸…æ™°**ï¼šä¸¥æ ¼æŒ‰ç…§MVCåˆ†å±‚ç»„ç»‡ä»£ç 
3. **èµ„æºåˆ†ç¦»**ï¼šä»£ç å’Œèµ„æºæ–‡ä»¶åˆ†å¼€å­˜æ”¾
4. **é…ç½®å¤–ç½®**ï¼šå¯å˜é…ç½®æ”¾åœ¨é…ç½®æ–‡ä»¶ä¸­

---

## å…­ã€å¼€å‘æµç¨‹

### 6.1 æ–°å¢åŠŸèƒ½å¼€å‘æµç¨‹

```
1. è®¾è®¡æ•°æ®æ¨¡å‹ (model/)
   â†“
2. å®ç°æ•°æ®è®¿é—® (dao/)
   â†“
3. ç¼–å†™ä¸šåŠ¡é€»è¾‘ (service/)
   â†“
4. è®¾è®¡ç•Œé¢FXML (resources/fxml/)
   â†“
5. ç¼–å†™æ§åˆ¶å™¨ (controller/)
   â†“
6. ç¼–å†™CSSæ ·å¼ (resources/css/)
   â†“
7. æµ‹è¯•ä¸è°ƒè¯• (test/)
```

### 6.2 æ–‡ä»¶åˆ›å»ºé¡ºåºå»ºè®®

**å¼€å‘äººå‘˜ç®¡ç†æ¨¡å—ç¤ºä¾‹**ï¼š
1. åˆ›å»ºæšä¸¾ï¼šGender.java, RiskLevel.java
2. åˆ›å»ºå®ä½“ï¼šPetitioner.java, PersonalInfo.java...
3. åˆ›å»ºDAOï¼šJsonDataManager.java
4. åˆ›å»ºServiceï¼šPetitionerService.java
5. åˆ›å»ºFXMLï¼šlist.fxml
6. åˆ›å»ºControllerï¼šListController.java
7. åˆ›å»ºCSSï¼šcomponents.css

---

## ä¸ƒã€.gitignoreé…ç½®è¯´æ˜

å¿½ç•¥ä»¥ä¸‹æ–‡ä»¶å’Œç›®å½•ï¼š

```gitignore
# Maven
target/
pom.xml.tag
pom.xml.releaseBackup

# IDE
.idea/
*.iml
out/

# ç¼–è¯‘æ–‡ä»¶
*.class
*.jar (é™¤äº†lib/)

# æ—¥å¿—
*.log
logs/

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db

# æ‰“åŒ…è¾“å‡º
dist/

# æ•°æ®æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œæ ¹æ®éœ€æ±‚å†³å®šæ˜¯å¦æäº¤ï¼‰
data/petitioners.json
data/backups/
data/photos/
```

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.1*
*åˆ›å»ºæ—¥æœŸï¼š2025å¹´11æœˆ22æ—¥*
*æœ€åæ›´æ–°ï¼š2025å¹´11æœˆ22æ—¥*

## æ–‡æ¡£å˜æ›´è®°å½•

| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ |
|------|------|----------|
| v1.0 | 2025-11-22 | åˆå§‹ç‰ˆæœ¬ |
| v1.1 | 2025-11-22 | 1. æ–°å¢è­¦å¾½å›¾ç‰‡èµ„æºè§„åˆ’ï¼ˆassets/icons/è­¦å¾½.pngï¼‰<br>2. æ–°å¢åœ°å›¾èµ„æºç›®å½•ï¼ˆassets/maps/ï¼‰<br>3. æ–°å¢ç…§ç‰‡å­˜å‚¨ç›®å½•ï¼ˆdata/photos/ï¼‰<br>4. æ–°å¢PhotoServiceç…§ç‰‡ç®¡ç†æœåŠ¡<br>5. æ›´æ–°.gitignoreè§„åˆ™ï¼ˆå¿½ç•¥ç…§ç‰‡ç›®å½•ï¼‰ |
