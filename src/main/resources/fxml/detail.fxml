<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.petition.controller.DetailController"
            styleClass="page-container">

    <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20.0" styleClass="form-header">
            <padding>
                <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
            </padding>
            <Button fx:id="backButton" text="â† è¿”å›ž" styleClass="secondary-button" onAction="#handleBack"/>
            <Label fx:id="titleLabel" text="äººå‘˜è¯¦ç»†ä¿¡æ¯" styleClass="page-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="riskBadge" text="é£Žé™©ç­‰çº§ï¼šä¸­å±" styleClass="risk-badge-medium"/>
            <Button fx:id="editButton" text="âœ ç¼–è¾‘" styleClass="primary-button" onAction="#handleEdit"/>
            <Button fx:id="deleteButton" text="ðŸ—‘ åˆ é™¤" styleClass="danger-button" onAction="#handleDelete"/>
        </HBox>
    </top>

    <!-- ä¸­å¤®è¯¦æƒ…åŒºåŸŸ -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="detail-scroll">
            <VBox spacing="0" styleClass="detail-container">
                <padding>
                    <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
                </padding>

                <!-- æ ‡ç­¾é¡µ -->
                <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE" styleClass="detail-tabs">

                    <!-- ä¸ªäººä¿¡æ¯æ ‡ç­¾é¡µ -->
                    <Tab text="ðŸ“‹ ä¸ªäººä¿¡æ¯">
                        <ScrollPane fitToWidth="true">
                            <GridPane hgap="30.0" vgap="20.0" styleClass="detail-grid">
                                <padding>
                                    <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
                                </padding>

                                <columnConstraints>
                                    <ColumnConstraints hgrow="NEVER" minWidth="120" prefWidth="120"/>
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="350"/>
                                    <ColumnConstraints hgrow="NEVER" minWidth="120" prefWidth="120"/>
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="350"/>
                                </columnConstraints>

                                <!-- ç¬¬1è¡Œ -->
                                <Label text="å§“åï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                <Label fx:id="nameLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                <Label text="æ›¾ç”¨åï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                                <Label fx:id="formerNameLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                                <!-- ç¬¬2è¡Œ -->
                                <Label text="èº«ä»½è¯å·ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <Label fx:id="idCardLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                <Label text="æ€§åˆ«ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                                <Label fx:id="genderLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                                <!-- ç¬¬3è¡Œ -->
                                <Label text="å‡ºç”Ÿæ—¥æœŸï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                <Label fx:id="birthDateLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                                <Label text="å¹´é¾„ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                                <Label fx:id="ageLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="2"/>

                                <!-- ç¬¬4è¡Œ -->
                                <Label text="ç±è´¯ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                <Label fx:id="nativePlaceLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                                <Label text="æ–‡åŒ–ç¨‹åº¦ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="3"/>
                                <Label fx:id="educationLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="3"/>

                                <!-- ç¬¬5è¡Œ -->
                                <Label text="å©šå§»çŠ¶å†µï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                                <Label fx:id="maritalStatusLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                                <Label text="é…å¶å§“åï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="4"/>
                                <Label fx:id="spouseLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="4"/>

                                <!-- ç¬¬6è¡Œ -->
                                <Label text="è”ç³»ç”µè¯1ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                                <Label fx:id="phone1Label" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                                <Label text="è”ç³»ç”µè¯2ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="5"/>
                                <Label fx:id="phone2Label" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="5"/>

                                <!-- ç¬¬7è¡Œ -->
                                <Label text="è”ç³»ç”µè¯3ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                                <Label fx:id="phone3Label" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="6"/>

                                <Label text="èŒä¸šï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="6"/>
                                <Label fx:id="occupationLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="6"/>

                                <!-- ç¬¬8è¡Œ -->
                                <Label text="å·¥ä½œåœ°å€ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
                                <Label fx:id="workAddressLabel" text="-" styleClass="detail-value" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="7" GridPane.columnSpan="3"/>

                                <!-- ç¬¬9è¡Œ -->
                                <Label text="å®¶åº­ä½å€ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="8"/>
                                <Label fx:id="homeAddressLabel" text="-" styleClass="detail-value" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="8" GridPane.columnSpan="3"/>

                                <!-- ç¬¬10è¡Œ -->
                                <Label text="ç…§ç‰‡è·¯å¾„ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="9"/>
                                <Label fx:id="photoLabel" text="-" styleClass="detail-value" wrapText="true" GridPane.columnIndex="1" GridPane.rowIndex="9" GridPane.columnSpan="3"/>
                            </GridPane>
                        </ScrollPane>
                    </Tab>

                    <!-- åœ¨äº¬å…³ç³»äººæ ‡ç­¾é¡µ -->
                    <Tab text="ðŸ‘¥ åœ¨äº¬å…³ç³»äºº">
                        <ScrollPane fitToWidth="true">
                            <GridPane hgap="30.0" vgap="20.0" styleClass="detail-grid">
                                <padding>
                                    <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
                                </padding>

                                <columnConstraints>
                                    <ColumnConstraints hgrow="NEVER" minWidth="120" prefWidth="120"/>
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="350"/>
                                    <ColumnConstraints hgrow="NEVER" minWidth="120" prefWidth="120"/>
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="350"/>
                                </columnConstraints>

                                <!-- ç¬¬1è¡Œ -->
                                <Label text="å…³ç³»äººå§“åï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                <Label fx:id="contactNameLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                <Label text="å…³ç³»ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                                <Label fx:id="relationshipLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                                <!-- ç¬¬2è¡Œ -->
                                <Label text="è”ç³»ç”µè¯ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <Label fx:id="contactPhoneLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                <Label text="è¿›äº¬æ–¹å¼ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                                <Label fx:id="entryMethodLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                                <!-- ç¬¬3è¡Œ -->
                                <Label text="åœ¨äº¬é€šè¡Œæ–¹å¼ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                <Label fx:id="transportMethodLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                                <Label text="å±…ä½åœ°å€ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                                <Label fx:id="beijingAddressLabel" text="-" styleClass="detail-value" wrapText="true" GridPane.columnIndex="3" GridPane.rowIndex="2"/>

                                <!-- è¯´æ˜Žæ–‡å­— -->
                                <VBox spacing="10.0" GridPane.columnIndex="0" GridPane.rowIndex="3" GridPane.columnSpan="4">
                                    <padding>
                                        <Insets top="20.0"/>
                                    </padding>
                                    <Separator/>
                                    <Label text="â„¹ æ­¤éƒ¨åˆ†è®°å½•è¯¥ä¸Šè®¿äººå‘˜åœ¨åŒ—äº¬çš„å…³ç³»äººä¿¡æ¯å’Œæ´»åŠ¨æƒ…å†µ" styleClass="info-text"/>
                                </VBox>
                            </GridPane>
                        </ScrollPane>
                    </Tab>

                    <!-- ä¿¡è®¿æ¡ˆä»¶æ ‡ç­¾é¡µ -->
                    <Tab text="ðŸ“„ ä¿¡è®¿æ¡ˆä»¶">
                        <ScrollPane fitToWidth="true">
                            <GridPane hgap="30.0" vgap="20.0" styleClass="detail-grid">
                                <padding>
                                    <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
                                </padding>

                                <columnConstraints>
                                    <ColumnConstraints hgrow="NEVER" minWidth="120" prefWidth="120"/>
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="350"/>
                                    <ColumnConstraints hgrow="NEVER" minWidth="120" prefWidth="120"/>
                                    <ColumnConstraints hgrow="ALWAYS" minWidth="250" prefWidth="350"/>
                                </columnConstraints>

                                <!-- ç¬¬1è¡Œ -->
                                <Label text="ä¸Šè®¿æ¬¡æ•°ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                <Label fx:id="visitCountLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                <Label text="é¦–æ¬¡ä¸Šè®¿æ—¥æœŸï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                                <Label fx:id="firstVisitDateLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                                <!-- ç¬¬2è¡Œ -->
                                <Label text="æœ€è¿‘ä¸Šè®¿æ—¥æœŸï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <Label fx:id="lastVisitDateLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                <Label text="ç±»åˆ«ï¼š" styleClass="detail-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                                <Label fx:id="categoryLabel" text="-" styleClass="detail-value" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                                <!-- ç¬¬3è¡Œ -->
                                <Label text="è¯‰æ±‚äº‹é¡¹ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                <TextArea fx:id="appealArea" editable="false" wrapText="true" prefRowCount="4"
                                          styleClass="detail-textarea" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.columnSpan="3"/>

                                <!-- ç¬¬4è¡Œ -->
                                <Label text="æ¶‰åŠå•ä½ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                <TextArea fx:id="involvedDepartmentsArea" editable="false" wrapText="true" prefRowCount="3"
                                          styleClass="detail-textarea" GridPane.columnIndex="1" GridPane.rowIndex="3" GridPane.columnSpan="3"/>

                                <!-- ç¬¬5è¡Œ -->
                                <Label text="å¤‡æ³¨ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                                <TextArea fx:id="remarksArea" editable="false" wrapText="true" prefRowCount="3"
                                          styleClass="detail-textarea" GridPane.columnIndex="1" GridPane.rowIndex="4" GridPane.columnSpan="3"/>
                            </GridPane>
                        </ScrollPane>
                    </Tab>

                    <!-- è¯„ä¼°ç»“æžœæ ‡ç­¾é¡µ -->
                    <Tab text="âš  è¯„ä¼°ç»“æžœ">
                        <ScrollPane fitToWidth="true">
                            <VBox spacing="30.0" styleClass="detail-grid">
                                <padding>
                                    <Insets top="30.0" right="30.0" bottom="30.0" left="30.0"/>
                                </padding>

                                <!-- é£Žé™©ç­‰çº§å¡ç‰‡ -->
                                <VBox spacing="15.0" styleClass="risk-card">
                                    <padding>
                                        <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
                                    </padding>

                                    <HBox alignment="CENTER_LEFT" spacing="15.0">
                                        <Label text="å±é™©ç­‰çº§è¯„ä¼°" styleClass="section-title"/>
                                        <Region HBox.hgrow="ALWAYS"/>
                                        <Label fx:id="riskLevelLabel" text="ä¸­å±" styleClass="risk-badge-large"/>
                                    </HBox>

                                    <Separator/>

                                    <!-- é£Žé™©ç­‰çº§è¯´æ˜Ž -->
                                    <GridPane hgap="20.0" vgap="15.0">
                                        <columnConstraints>
                                            <ColumnConstraints hgrow="NEVER" minWidth="100" prefWidth="100"/>
                                            <ColumnConstraints hgrow="ALWAYS"/>
                                        </columnConstraints>

                                        <Label text="è¯„ä¼°æ—¶é—´ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                        <Label fx:id="assessmentDateLabel" text="-" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                        <Label text="ç­‰çº§æè¿°ï¼š" styleClass="detail-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                        <Label fx:id="riskDescriptionLabel" text="-" wrapText="true" styleClass="detail-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                                    </GridPane>
                                </VBox>

                                <!-- é£Žé™©ç­‰çº§è¯´æ˜Ž -->
                                <VBox spacing="10.0" styleClass="info-box">
                                    <padding>
                                        <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
                                    </padding>

                                    <Label text="ðŸ“Œ å±é™©ç­‰çº§åˆ†ç±»æ ‡å‡†" styleClass="info-title"/>
                                    <Separator/>

                                    <GridPane hgap="15.0" vgap="10.0">
                                        <columnConstraints>
                                            <ColumnConstraints hgrow="NEVER" minWidth="80" prefWidth="80"/>
                                            <ColumnConstraints hgrow="ALWAYS"/>
                                        </columnConstraints>

                                        <Label text="ä½Žå±ï¼š" styleClass="risk-low" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                        <Label text="ä¸Šè®¿æ¬¡æ•°è¾ƒå°‘ï¼Œè¯‰æ±‚åˆç†ï¼Œæƒ…ç»ªç¨³å®š" styleClass="info-text" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                                        <Label text="ä¸­å±ï¼š" styleClass="risk-medium" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                        <Label text="å¤šæ¬¡ä¸Šè®¿ï¼Œè¯‰æ±‚å¤æ‚ï¼Œéœ€è¦é‡ç‚¹å…³æ³¨" styleClass="info-text" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                        <Label text="é«˜å±ï¼š" styleClass="risk-high" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                        <Label text="é¢‘ç¹ä¸Šè®¿ï¼Œè¡Œä¸ºæ¿€è¿›ï¼Œéœ€è¦ä¸¥å¯†ç›‘æŽ§" styleClass="info-text" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                                        <Label text="æžå±ï¼š" styleClass="risk-extreme" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                        <Label text="å­˜åœ¨æžç«¯å€¾å‘ï¼Œå¯èƒ½å±å®³å…¬å…±å®‰å…¨ï¼Œéœ€24å°æ—¶ç›‘æŽ§" styleClass="info-text" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
                                    </GridPane>
                                </VBox>
                            </VBox>
                        </ScrollPane>
                    </Tab>

                </TabPane>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
