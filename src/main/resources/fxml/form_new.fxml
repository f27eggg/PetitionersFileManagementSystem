<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.collections.FXCollections?>
<?import java.lang.String?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.petition.controller.FormController"
            styleClass="page-container">

    <!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="20.0" styleClass="form-header">
            <padding>
                <Insets top="20.0" right="30.0" bottom="20.0" left="30.0"/>
            </padding>
            <Label fx:id="titleLabel" text="æ–°å¢žäººå‘˜ä¿¡æ¯" styleClass="page-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="saveButton" text="ðŸ’¾ ä¿å­˜" styleClass="primary-button" onAction="#handleSave"/>
            <Button fx:id="cancelButton" text="âœ– å–æ¶ˆ" styleClass="secondary-button" onAction="#handleCancel"/>
        </HBox>
    </top>

    <!-- ä¸­å¤®è¡¨å•åŒºåŸŸ - ä¸€é¡µå¼æ»šåŠ¨ -->
    <center>
        <ScrollPane fitToWidth="true" styleClass="form-scroll">
            <VBox spacing="25.0" styleClass="form-container">
                <padding>
                    <Insets top="30.0" right="40.0" bottom="30.0" left="40.0"/>
                </padding>

                <!-- ç¬¬ä¸€éƒ¨åˆ†: ä¸ªäººä¿¡æ¯ -->
                <VBox spacing="15.0" styleClass="form-section">
                    <Label text="ðŸ“‹ ä¸ªäººä¿¡æ¯" styleClass="section-title"/>
                    <Separator styleClass="section-separator"/>

                    <GridPane hgap="20.0" vgap="15.0" styleClass="form-grid-compact">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" prefWidth="280"/>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" prefWidth="280"/>
                        </columnConstraints>

                        <!-- ç¬¬1è¡Œ -->
                        <Label text="*å§“å" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="nameField" promptText="è¯·è¾“å…¥å§“å" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="æ›¾ç”¨å" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <TextField fx:id="formerNameField" promptText="æ— åˆ™ä¸å¡«" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                        <!-- ç¬¬2è¡Œ -->
                        <Label text="*èº«ä»½è¯å·" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="idCardField" promptText="18ä½èº«ä»½è¯å·" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="*æ€§åˆ«" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                        <ComboBox fx:id="genderCombo" promptText="é€‰æ‹©æ€§åˆ«" prefWidth="280" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                        <!-- ç¬¬3è¡Œ -->
                        <Label text="ç±è´¯" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="nativePlaceField" promptText="çœå¸‚åŒº" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                        <Label text="æ–‡åŒ–ç¨‹åº¦" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="2"/>
                        <ComboBox fx:id="educationCombo" promptText="é€‰æ‹©å­¦åŽ†" prefWidth="280" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="2"/>

                        <!-- ç¬¬4è¡Œ -->
                        <Label text="å©šå§»çŠ¶å†µ" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <ComboBox fx:id="maritalStatusCombo" promptText="é€‰æ‹©å©šå§»çŠ¶å†µ" prefWidth="280" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                        <Label text="é…å¶å§“å" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="3"/>
                        <TextField fx:id="spouseField" promptText="é…å¶å§“å" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="3"/>

                        <!-- ç¬¬5è¡Œï¼šè”ç³»ç”µè¯ -->
                        <Label text="è”ç³»ç”µè¯" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="4" GridPane.columnSpan="3" alignment="CENTER_LEFT">
                            <VBox fx:id="phonesContainer" spacing="5" HBox.hgrow="ALWAYS"/>
                            <Button text="âž•" onAction="#addPhoneField" styleClass="secondary-button" prefWidth="40"/>
                        </HBox>

                        <!-- ç¬¬6è¡Œ -->
                        <Label text="èŒä¸š" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                        <TextField fx:id="occupationField" promptText="èŒä¸šæˆ–å·¥ä½œå•ä½" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="5" GridPane.columnSpan="3"/>

                        <!-- ç¬¬7è¡Œ -->
                        <Label text="å·¥ä½œåœ°å€" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                        <TextField fx:id="workAddressField" promptText="å·¥ä½œè¯¦ç»†åœ°å€" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="6" GridPane.columnSpan="3"/>

                        <!-- ç¬¬8è¡Œ -->
                        <Label text="å®¶åº­ä½å€" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
                        <TextField fx:id="homeAddressField" promptText="å®¶åº­è¯¦ç»†åœ°å€" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="7" GridPane.columnSpan="3"/>

                        <!-- ç¬¬9è¡Œ -->
                        <Label text="ä¸Šè®¿æ¬¡æ•°" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="8"/>
                        <Spinner fx:id="visitCountSpinner" min="0" max="999" initialValue="1" editable="true" prefWidth="150" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="8"/>

                        <!-- ç¬¬10è¡Œ -->
                        <Label text="åº”å¯¹æŽªæ–½" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="9"/>
                        <TextArea fx:id="counterMeasuresArea" promptText="ç®€è¦è¯´æ˜Žåº”å¯¹æŽªæ–½" wrapText="true" prefRowCount="2" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="9" GridPane.columnSpan="3"/>

                        <!-- ç¬¬11è¡Œ -->
                        <Label text="æ¶ˆè´¹ä¹ æƒ¯" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="10"/>
                        <TextArea fx:id="consumptionHabitsArea" promptText="æ¶ˆè´¹ä¹ æƒ¯æè¿°" wrapText="true" prefRowCount="2" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="10" GridPane.columnSpan="3"/>
                    </GridPane>
                </VBox>

                <!-- ç¬¬äºŒéƒ¨åˆ†: åœ¨äº¬å…³ç³»äºº -->
                <VBox spacing="15.0" styleClass="form-section">
                    <Label text="ðŸ‘¤ åœ¨äº¬å…³ç³»äºº" styleClass="section-title"/>
                    <Separator styleClass="section-separator"/>

                    <GridPane hgap="20.0" vgap="15.0" styleClass="form-grid-compact">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" prefWidth="280"/>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200" prefWidth="280"/>
                        </columnConstraints>

                        <Label text="å§“å" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="contactNameField" promptText="åœ¨äº¬å…³ç³»äººå§“å" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="å…³ç³»" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="0"/>
                        <TextField fx:id="relationshipField" promptText="ä¸Žä¸Šè®¿äººçš„å…³ç³»" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="0"/>

                        <Label text="è”ç³»ç”µè¯" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="contactPhoneField" promptText="å…³ç³»äººç”µè¯" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="å•ä½åç§°" styleClass="form-label" GridPane.columnIndex="2" GridPane.rowIndex="1"/>
                        <TextField fx:id="contactCompanyField" promptText="å·¥ä½œå•ä½" styleClass="form-field" GridPane.columnIndex="3" GridPane.rowIndex="1"/>

                        <Label text="å•ä½åœ°å€" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextField fx:id="contactCompanyAddressField" promptText="å•ä½è¯¦ç»†åœ°å€" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.columnSpan="3"/>

                        <Label text="ä½å€" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="contactHomeAddressField" promptText="å±…ä½åœ°å€" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="3" GridPane.columnSpan="3"/>
                    </GridPane>
                </VBox>

                <!-- ç¬¬ä¸‰éƒ¨åˆ†: ä¿¡è®¿æ¡ˆä»¶ -->
                <VBox spacing="15.0" styleClass="form-section">
                    <Label text="ðŸ“ ä¿¡è®¿æ¡ˆä»¶" styleClass="section-title"/>
                    <Separator styleClass="section-separator"/>

                    <GridPane hgap="20.0" vgap="15.0" styleClass="form-grid-compact">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200"/>
                        </columnConstraints>

                        <Label text="è¯‰æ±‚æè¿°" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextArea fx:id="petitionContentArea" promptText="è¯¦ç»†æè¿°ä¸Šè®¿è¯‰æ±‚å†…å®¹" wrapText="true" prefRowCount="3" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="æ˜¯å¦èƒ½è§£å†³" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <ComboBox fx:id="canResolveCombo" promptText="é€‰æ‹©" prefWidth="300" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="1">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="æ˜¯"/>
                                    <String fx:value="å¦"/>
                                    <String fx:value="éƒ¨åˆ†å¯ä»¥"/>
                                </FXCollections>
                            </items>
                        </ComboBox>

                        <Label text="è§£å†³æ–¹å¼" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <TextArea fx:id="resolutionMethodArea" promptText="è¯´æ˜Žè§£å†³æ–¹å¼" wrapText="true" prefRowCount="2" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                        <Label text="ä¸Šè®¿è½¨è¿¹" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextArea fx:id="visitTrajectoryArea" promptText="åŽ†æ¬¡ä¸Šè®¿çš„æ—¶é—´åœ°ç‚¹è®°å½•" wrapText="true" prefRowCount="3" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                        <Label text="è¿›äº¬æ–¹å¼" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <ComboBox fx:id="entryMethodCombo" promptText="é€‰æ‹©è¿›äº¬æ–¹å¼" prefWidth="300" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                        <Label text="åœ¨äº¬é€šè¡Œæ–¹å¼" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                        <ComboBox fx:id="transportMethodCombo" promptText="é€‰æ‹©é€šè¡Œæ–¹å¼" prefWidth="300" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                        <Label text="æœ‰æ— æŽ¥åº”äºº" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                        <ComboBox fx:id="hasReceptionCombo" promptText="é€‰æ‹©" prefWidth="300" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="6">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="æœ‰"/>
                                    <String fx:value="æ— "/>
                                    <String fx:value="ä¸è¯¦"/>
                                </FXCollections>
                            </items>
                        </ComboBox>
                    </GridPane>
                </VBox>

                <!-- ç¬¬å››éƒ¨åˆ†: é£Žé™©è¯„ä¼° -->
                <VBox spacing="15.0" styleClass="form-section">
                    <Label text="âš ï¸ é£Žé™©è¯„ä¼°" styleClass="section-title"/>
                    <Separator styleClass="section-separator"/>

                    <GridPane hgap="20.0" vgap="15.0" styleClass="form-grid-compact">
                        <columnConstraints>
                            <ColumnConstraints hgrow="SOMETIMES" minWidth="100" prefWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS" minWidth="200"/>
                        </columnConstraints>

                        <Label text="å±é™©ç­‰çº§" styleClass="form-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <ComboBox fx:id="riskLevelCombo" promptText="é€‰æ‹©å±é™©ç­‰çº§" prefWidth="300" styleClass="form-field" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                    </GridPane>
                </VBox>

                <!-- åº•éƒ¨æç¤º -->
                <Label fx:id="errorLabel" text="" styleClass="error-label" visible="false" managed="false"/>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
