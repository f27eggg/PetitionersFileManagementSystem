<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.petition.controller.QueryController"
      spacing="20.0" styleClass="page-container">
    <padding>
        <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
    </padding>

    <!-- é¡µé¢æ ‡é¢˜ -->
    <HBox alignment="CENTER_LEFT" spacing="15.0">
        <Label text="ðŸ” é«˜çº§æŸ¥è¯¢" styleClass="page-title"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Label fx:id="resultCountLabel" text="å…± 0 æ¡ç»“æžœ" styleClass="result-count"/>
    </HBox>

    <!-- æŸ¥è¯¢æ¡ä»¶åŒºåŸŸ -->
    <VBox spacing="15.0" styleClass="query-panel">
        <padding>
            <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
        </padding>

        <!-- ç¬¬ä¸€è¡Œæ¡ä»¶ -->
        <HBox spacing="30.0" alignment="CENTER_LEFT">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="å§“åï¼š" styleClass="query-label"/>
                <TextField fx:id="nameField" promptText="è¯·è¾“å…¥å§“å" prefWidth="150" styleClass="query-field"/>
            </HBox>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="èº«ä»½è¯å·ï¼š" styleClass="query-label"/>
                <TextField fx:id="idCardField" promptText="è¯·è¾“å…¥èº«ä»½è¯å·" prefWidth="180" styleClass="query-field"/>
            </HBox>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="ç±è´¯ï¼š" styleClass="query-label"/>
                <TextField fx:id="nativePlaceField" promptText="è¯·è¾“å…¥ç±è´¯" prefWidth="150" styleClass="query-field"/>
            </HBox>
        </HBox>

        <!-- ç¬¬äºŒè¡Œæ¡ä»¶ -->
        <HBox spacing="30.0" alignment="CENTER_LEFT">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="å±é™©ç­‰çº§ï¼š" styleClass="query-label"/>
                <ComboBox fx:id="riskLevelCombo" prefWidth="120" styleClass="query-combo"/>
            </HBox>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="æ€§åˆ«ï¼š" styleClass="query-label"/>
                <ComboBox fx:id="genderCombo" prefWidth="100" styleClass="query-combo"/>
            </HBox>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="ä¸Šè®¿æ¬¡æ•°ï¼š" styleClass="query-label"/>
                <Spinner fx:id="minVisitSpinner" prefWidth="80" styleClass="query-spinner"/>
                <Label text="è‡³" styleClass="query-label"/>
                <Spinner fx:id="maxVisitSpinner" prefWidth="80" styleClass="query-spinner"/>
                <Label text="æ¬¡" styleClass="query-label"/>
            </HBox>
        </HBox>

        <!-- ç¬¬ä¸‰è¡Œæ¡ä»¶ -->
        <HBox spacing="30.0" alignment="CENTER_LEFT">
            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="æ–‡åŒ–ç¨‹åº¦ï¼š" styleClass="query-label"/>
                <ComboBox fx:id="educationCombo" prefWidth="120" styleClass="query-combo"/>
            </HBox>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="å©šå§»çŠ¶å†µï¼š" styleClass="query-label"/>
                <ComboBox fx:id="maritalStatusCombo" prefWidth="120" styleClass="query-combo"/>
            </HBox>

            <HBox spacing="10.0" alignment="CENTER_LEFT">
                <Label text="è¿›äº¬æ–¹å¼ï¼š" styleClass="query-label"/>
                <ComboBox fx:id="entryMethodCombo" prefWidth="120" styleClass="query-combo"/>
            </HBox>
        </HBox>

        <!-- æ“ä½œæŒ‰é’® -->
        <HBox spacing="15.0" alignment="CENTER_RIGHT">
            <Button fx:id="resetButton" text="ðŸ”„ é‡ç½®æ¡ä»¶" styleClass="secondary-button" onAction="#handleReset"/>
            <Button fx:id="searchButton" text="ðŸ” æŸ¥è¯¢" styleClass="primary-button" onAction="#handleSearch"/>
            <Button fx:id="exportButton" text="ðŸ“¤ å¯¼å‡ºç»“æžœ" styleClass="success-button" onAction="#handleExport"/>
        </HBox>
    </VBox>

    <!-- æŸ¥è¯¢ç»“æžœè¡¨æ ¼ -->
    <VBox VBox.vgrow="ALWAYS" spacing="10.0">
        <TableView fx:id="resultTable" VBox.vgrow="ALWAYS" styleClass="data-table">
            <columns>
                <TableColumn fx:id="indexColumn" text="åºå·" prefWidth="60"/>
                <TableColumn fx:id="nameColumn" text="å§“å" prefWidth="100"/>
                <TableColumn fx:id="idCardColumn" text="èº«ä»½è¯å·" prefWidth="180"/>
                <TableColumn fx:id="genderColumn" text="æ€§åˆ«" prefWidth="60"/>
                <TableColumn fx:id="nativePlaceColumn" text="ç±è´¯" prefWidth="100"/>
                <TableColumn fx:id="visitCountColumn" text="ä¸Šè®¿æ¬¡æ•°" prefWidth="80"/>
                <TableColumn fx:id="riskLevelColumn" text="å±é™©ç­‰çº§" prefWidth="100"/>
                <TableColumn fx:id="phoneColumn" text="è”ç³»ç”µè¯" prefWidth="130"/>
                <TableColumn fx:id="actionColumn" text="æ“ä½œ" prefWidth="150"/>
            </columns>
            <placeholder>
                <Label text="è¯·è®¾ç½®æŸ¥è¯¢æ¡ä»¶åŽç‚¹å‡»æŸ¥è¯¢æŒ‰é’®" styleClass="table-placeholder"/>
            </placeholder>
        </TableView>
    </VBox>
</VBox>
