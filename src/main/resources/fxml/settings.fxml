<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.petition.controller.SettingsController"
            fitToWidth="true" styleClass="page-scroll">

    <VBox spacing="20.0" styleClass="page-container">
        <padding>
            <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
        </padding>

        <!-- é¡µé¢æ ‡é¢˜ -->
        <Label text="âš™ï¸ ç³»ç»Ÿè®¾ç½®" styleClass="page-title"/>

        <!-- æ•°æ®ç®¡ç†è®¾ç½® -->
        <VBox spacing="15.0" styleClass="settings-section">
            <Label text="ðŸ“ æ•°æ®ç®¡ç†" styleClass="section-title"/>
            <Separator/>

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="æ•°æ®å­˜å‚¨è·¯å¾„ï¼š" styleClass="settings-label" prefWidth="120"/>
                <TextField fx:id="dataPathField" editable="false" HBox.hgrow="ALWAYS" styleClass="settings-field"/>
                <Button text="æ‰“å¼€ç›®å½•" styleClass="secondary-button" onAction="#handleOpenDataDir"/>
            </HBox>

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="æ•°æ®å¤‡ä»½" styleClass="settings-label" prefWidth="120"/>
                <Button text="ç«‹å³å¤‡ä»½" styleClass="primary-button" onAction="#handleBackup"/>
                <Button text="æ¢å¤å¤‡ä»½" styleClass="secondary-button" onAction="#handleRestore"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label fx:id="lastBackupLabel" text="ä¸Šæ¬¡å¤‡ä»½ï¼šä»Žæœª" styleClass="info-text"/>
            </HBox>

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="è‡ªåŠ¨å¤‡ä»½" styleClass="settings-label" prefWidth="120"/>
                <CheckBox fx:id="autoBackupCheck" text="å¯ç”¨è‡ªåŠ¨å¤‡ä»½"/>
                <Label text="é—´éš”ï¼š" styleClass="settings-label"/>
                <Spinner fx:id="backupIntervalSpinner" prefWidth="80"/>
                <Label text="å°æ—¶" styleClass="settings-label"/>
            </HBox>
        </VBox>

        <!-- æ˜¾ç¤ºè®¾ç½® -->
        <VBox spacing="15.0" styleClass="settings-section">
            <Label text="ðŸ–¥ï¸ æ˜¾ç¤ºè®¾ç½®" styleClass="section-title"/>
            <Separator/>

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="æ¯é¡µæ˜¾ç¤ºæ¡æ•°ï¼š" styleClass="settings-label" prefWidth="120"/>
                <ComboBox fx:id="pageSizeCombo" prefWidth="100"/>
            </HBox>

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="èº«ä»½è¯è„±æ•ï¼š" styleClass="settings-label" prefWidth="120"/>
                <CheckBox fx:id="maskIdCardCheck" text="å¯ç”¨èº«ä»½è¯å·è„±æ•æ˜¾ç¤º"/>
            </HBox>
        </VBox>

        <!-- å¯¼å…¥å¯¼å‡ºè®¾ç½® -->
        <VBox spacing="15.0" styleClass="settings-section">
            <Label text="ðŸ“¤ å¯¼å…¥å¯¼å‡º" styleClass="section-title"/>
            <Separator/>

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="é»˜è®¤å¯¼å‡ºæ ¼å¼ï¼š" styleClass="settings-label" prefWidth="120"/>
                <ComboBox fx:id="exportFormatCombo" prefWidth="120"/>
            </HBox>

            <HBox spacing="15.0" alignment="CENTER_LEFT">
                <Label text="å¿«æ·æ“ä½œ" styleClass="settings-label" prefWidth="120"/>
                <Button text="å¯¼å‡ºå…¨éƒ¨æ•°æ®" styleClass="success-button" onAction="#handleExportAll"/>
                <Button text="å¯¼å…¥æ•°æ®" styleClass="primary-button" onAction="#handleImport"/>
                <Button text="æ¸…ç©ºæ‰€æœ‰æ•°æ®" styleClass="danger-button" onAction="#handleClearAll"/>
            </HBox>
        </VBox>

        <!-- å…³äºŽä¿¡æ¯ -->
        <VBox spacing="15.0" styleClass="settings-section">
            <Label text="â„¹ï¸ å…³äºŽç³»ç»Ÿ" styleClass="section-title"/>
            <Separator/>

            <GridPane hgap="20.0" vgap="10.0">
                <columnConstraints>
                    <ColumnConstraints prefWidth="120"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>

                <Label text="ç³»ç»Ÿåç§°ï¼š" styleClass="settings-label" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                <Label text="ä¸Šè®¿äººå‘˜é‡ç‚¹ç›‘æŽ§ä¿¡æ¯ç®¡ç†ç³»ç»Ÿ" styleClass="settings-value" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                <Label text="ç‰ˆæœ¬å·ï¼š" styleClass="settings-label" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                <Label text="v1.0.0" styleClass="settings-value" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                <Label text="å¼€å‘äººå‘˜ï¼š" styleClass="settings-label" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                <Label text="åˆ˜ä¸€æ‘" styleClass="settings-value" GridPane.columnIndex="1" GridPane.rowIndex="2"/>

                <Label text="æŠ€æœ¯æ ˆï¼š" styleClass="settings-label" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                <Label text="Java 17 + JavaFX 17.0.2 + Maven" styleClass="settings-value" GridPane.columnIndex="1" GridPane.rowIndex="3"/>
            </GridPane>
        </VBox>

        <!-- æ“ä½œæŒ‰é’® -->
        <HBox spacing="15.0" alignment="CENTER_RIGHT">
            <Button text="æ¢å¤é»˜è®¤è®¾ç½®" styleClass="secondary-button" onAction="#handleResetDefaults"/>
            <Button text="ä¿å­˜è®¾ç½®" styleClass="primary-button" onAction="#handleSaveSettings"/>
        </HBox>
    </VBox>
</ScrollPane>
