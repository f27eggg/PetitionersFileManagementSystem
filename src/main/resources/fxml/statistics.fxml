<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.petition.controller.StatisticsController"
            fitToWidth="true" styleClass="page-scroll">

    <VBox spacing="20.0" styleClass="page-container">
        <padding>
            <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
        </padding>

        <!-- é¡µé¢æ ‡é¢˜ -->
        <HBox alignment="CENTER_LEFT" spacing="15.0">
            <Label text="ðŸ“ˆ ç»Ÿè®¡åˆ†æž" styleClass="page-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="refreshButton" text="ðŸ”„ åˆ·æ–°æ•°æ®" styleClass="primary-button" onAction="#handleRefresh"/>
        </HBox>

        <!-- ç»Ÿè®¡æ¦‚è§ˆå¡ç‰‡ -->
        <HBox spacing="20.0" styleClass="stats-cards">
            <VBox styleClass="stat-card" HBox.hgrow="ALWAYS">
                <Label text="æ€»äººæ•°" styleClass="stat-card-title"/>
                <Label fx:id="totalCountLabel" text="0" styleClass="stat-card-value"/>
            </VBox>
            <VBox styleClass="stat-card stat-card-danger" HBox.hgrow="ALWAYS">
                <Label text="é«˜å±äººå‘˜" styleClass="stat-card-title"/>
                <Label fx:id="highRiskCountLabel" text="0" styleClass="stat-card-value"/>
            </VBox>
            <VBox styleClass="stat-card stat-card-warning" HBox.hgrow="ALWAYS">
                <Label text="ä¸­å±äººå‘˜" styleClass="stat-card-title"/>
                <Label fx:id="mediumRiskCountLabel" text="0" styleClass="stat-card-value"/>
            </VBox>
            <VBox styleClass="stat-card stat-card-success" HBox.hgrow="ALWAYS">
                <Label text="ä½Žå±äººå‘˜" styleClass="stat-card-title"/>
                <Label fx:id="lowRiskCountLabel" text="0" styleClass="stat-card-value"/>
            </VBox>
        </HBox>

        <!-- å›¾è¡¨åŒºåŸŸ -->
        <HBox spacing="20.0" VBox.vgrow="ALWAYS">
            <!-- å±é™©ç­‰çº§åˆ†å¸ƒé¥¼å›¾ -->
            <VBox styleClass="chart-container" HBox.hgrow="ALWAYS">
                <Label text="å±é™©ç­‰çº§åˆ†å¸ƒ" styleClass="chart-title"/>
                <PieChart fx:id="riskLevelChart" legendVisible="true" labelsVisible="true"
                          prefHeight="300" VBox.vgrow="ALWAYS"/>
            </VBox>

            <!-- æ€§åˆ«åˆ†å¸ƒé¥¼å›¾ -->
            <VBox styleClass="chart-container" HBox.hgrow="ALWAYS">
                <Label text="æ€§åˆ«åˆ†å¸ƒ" styleClass="chart-title"/>
                <PieChart fx:id="genderChart" legendVisible="true" labelsVisible="true"
                          prefHeight="300" VBox.vgrow="ALWAYS"/>
            </VBox>
        </HBox>

        <HBox spacing="20.0" VBox.vgrow="ALWAYS">
            <!-- ä¸Šè®¿æ¬¡æ•°åˆ†å¸ƒæŸ±çŠ¶å›¾ -->
            <VBox styleClass="chart-container" HBox.hgrow="ALWAYS">
                <Label text="ä¸Šè®¿æ¬¡æ•°åˆ†å¸ƒ" styleClass="chart-title"/>
                <BarChart fx:id="visitCountChart" prefHeight="300" VBox.vgrow="ALWAYS">
                    <xAxis>
                        <CategoryAxis label="æ¬¡æ•°èŒƒå›´"/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="äººæ•°"/>
                    </yAxis>
                </BarChart>
            </VBox>

            <!-- è¿›äº¬æ–¹å¼åˆ†å¸ƒæŸ±çŠ¶å›¾ -->
            <VBox styleClass="chart-container" HBox.hgrow="ALWAYS">
                <Label text="è¿›äº¬æ–¹å¼åˆ†å¸ƒ" styleClass="chart-title"/>
                <BarChart fx:id="entryMethodChart" prefHeight="300" VBox.vgrow="ALWAYS">
                    <xAxis>
                        <CategoryAxis label="è¿›äº¬æ–¹å¼"/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="äººæ•°"/>
                    </yAxis>
                </BarChart>
            </VBox>
        </HBox>

        <HBox spacing="20.0" VBox.vgrow="ALWAYS">
            <!-- æ–‡åŒ–ç¨‹åº¦åˆ†å¸ƒæŸ±çŠ¶å›¾ -->
            <VBox styleClass="chart-container" HBox.hgrow="ALWAYS">
                <Label text="æ–‡åŒ–ç¨‹åº¦åˆ†å¸ƒ" styleClass="chart-title"/>
                <BarChart fx:id="educationChart" prefHeight="300" VBox.vgrow="ALWAYS">
                    <xAxis>
                        <CategoryAxis label="æ–‡åŒ–ç¨‹åº¦"/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="äººæ•°"/>
                    </yAxis>
                </BarChart>
            </VBox>

            <!-- ç±è´¯åˆ†å¸ƒæŸ±çŠ¶å›¾ -->
            <VBox styleClass="chart-container" HBox.hgrow="ALWAYS">
                <Label text="ç±è´¯åˆ†å¸ƒï¼ˆå‰10ï¼‰" styleClass="chart-title"/>
                <BarChart fx:id="nativePlaceChart" prefHeight="300" VBox.vgrow="ALWAYS">
                    <xAxis>
                        <CategoryAxis label="ç±è´¯"/>
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="äººæ•°"/>
                    </yAxis>
                </BarChart>
            </VBox>
        </HBox>
    </VBox>
</ScrollPane>
